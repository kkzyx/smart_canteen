<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
				"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.holly.mapper.OrderDetailMapper">
	
	<!-- 批量插入订单明细数据 -->
	<insert id="insertBatch">
		insert into `order_detail` (`name`, `image`, `order_id`, `dish_id`,`setmeal_id`, `number`, `amount`)
		values
		<foreach collection="orderDetailList" item="od" separator=",">
			(#{od.name},#{od.image},#{od.orderId},#{od.dishId},#{od.setmealId},#{od.number},#{od.amount})
		</foreach>
	</insert>
	
	<!-- 根据订单id列表查询订单明细数据 -->
	<select id="getByOrderIds" resultType="com.holly.entity.OrderDetail">
		select * from `order_detail`
		where `order_id` in
		<foreach collection="orderIds" item="orderId" open="(" separator="," close=")">
			#{orderId}
		</foreach>
	</select>
</mapper>