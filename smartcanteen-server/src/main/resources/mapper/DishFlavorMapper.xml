<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
				"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.holly.mapper.DishFlavorMapper">
	<!-- 批量插入菜品口味 -->
	<insert id="insertBatch">
		insert into `dish_flavor` (`dish_id`, `name`, `value`) values
		<foreach collection="flavorsList" item="flavor" separator=",">
			(#{flavor.dishId}, #{flavor.name}, #{flavor.value})
		</foreach>
	</insert>
	
	<!-- 根据菜品id集合删除菜品口味数据 -->
	<delete id="deleteByDishIds">
		delete
		from `dish_flavor`
		where `dish_id` in
		<foreach collection="dishIds" item="dishId" open="(" separator="," close=")">
			#{dishId}
		</foreach>
	</delete>
	
	<!-- 根据菜品id集合查询菜品口味数据 -->
	<select id="getFlavorsByDishIds" resultType="com.holly.entity.DishFlavor">
		select *
		from `dish_flavor`
		where `dish_id` in
		<foreach collection="dishIds" item="dishId" open="(" separator="," close=")">
			#{dishId}
		</foreach>
	</select>
</mapper>